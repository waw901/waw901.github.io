<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pemutar Video M3U8 Fullscreen</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            background-color: #f0f0f0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            font-family: sans-serif;
        }

        #video-container {
            width: 80%; /* Lebar kontainer video */
            max-width: 900px; /* Lebar maksimum kontainer video */
            background-color: #000;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            position: relative; /* Diperlukan untuk tombol fullscreen */
        }

        video {
            width: 100%;
            height: auto;
            display: block;
        }

        /* Gaya untuk mode fullscreen */
        video:-webkit-full-screen {
            width: 100%;
            height: 100%;
        }

        video:-moz-full-screen {
            width: 100%;
            height: 100%;
        }

        video:-ms-fullscreen {
            width: 100%;
            height: 100%;
        }

        video:fullscreen {
            width: 100%;
            height: 100%;
        }
    </style>
</head>
<body>

    <div id="video-container">
        <video id="videoPlayer" controls></video>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            var video = document.getElementById('videoPlayer');
            // Ganti dengan URL M3U8 Anda
            var videoSrc = 'https://test-streams.mux.dev/x36xhzz/x36xhzz.m3u8'; // Contoh URL M3U8

            if (Hls.isSupported()) {
                var hls = new Hls();
                hls.loadSource(videoSrc);
                hls.attachMedia(video);
                hls.on(Hls.Events.MANIFEST_PARSED, function() {
                    video.play();
                });
            } else if (video.canPlayType('application/vnd.apple.mpegurl')) {
                // Untuk browser yang mendukung M3U8 secara native (misalnya Safari di iOS/macOS)
                video.src = videoSrc;
                video.addEventListener('loadedmetadata', function() {
                    video.play();
                });
            } else {
                console.error('Browser Anda tidak mendukung HLS secara native atau melalui hls.js.');
                alert('Maaf, browser Anda tidak dapat memutar video ini.');
            }

            // Menangani mode fullscreen ketika tombol fullscreen di kontrol video diklik
            video.addEventListener('webkitfullscreenchange', exitHandler, false);
            video.addEventListener('mozfullscreenchange', exitHandler, false);
            video.addEventListener('fullscreenchange', exitHandler, false);
            video.addEventListener('MSFullscreenChange', exitHandler, false);

            function exitHandler() {
                if (!document.fullscreenElement && !document.webkitIsFullScreen && !document.mozFullScreen && !document.msFullscreenElement) {
                    console.log('Keluar dari mode fullscreen');
                    // Tambahkan logika tambahan jika diperlukan saat keluar fullscreen
                } else {
                    console.log('Masuk mode fullscreen');
                    // Tambahkan logika tambahan jika diperlukan saat masuk fullscreen
                }
            }
        });
    </script>

</body>
</html>
